<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CEA Square â€” Student Login</title>
  <style>
    :root{
      --green-900: #0b6b2f;
      --green-700: #1b8a4a;
      --green-600: #2aa05f;
      --bg: #f6fbf6;
      --muted: #6b7176;
      --card-border: rgba(27,138,74,0.12);
      --shadow: 0 10px 24px rgba(12,40,20,0.06);
      --radius: 14px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:#113827}
    .topbar{background:var(--green-900);color:#fff;padding:14px 26px;display:flex;align-items:center}
    .brand{display:flex;gap:12px;align-items:center}
    .brand svg{width:38px;height:38px}
    .brand h2{margin:0;font-size:18px}
    .brand small{opacity:.9}

    .centered-container {
      min-height: 90vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .login-card, .register-card {
      background: #fff;
      border-radius: 12px;
      box-shadow: var(--shadow);
      border: 1px solid var(--card-border);
      padding: 32px 22px;
      width: 100%;
      max-width: 370px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 18px;
      animation: fadein .7s;
    }
    @keyframes fadein {
      from { opacity: 0; transform: translateY(22px);}
      to { opacity: 1; transform: none;}
    }
    h2 {
      margin: 0 0 6px;
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--green-900);
      text-align: center;
    }
    .input-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-bottom: 8px;
    }
    label {
      font-size: 1rem;
      color: var(--green-900);
      font-weight: 500;
    }
    input, select {
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid #d1e7d3;
      font-size: 1rem;
      background: #f9fefa;
      color: #113827;
      transition: border .2s;
    }
    input:focus, select:focus {
      border: 1.5px solid var(--green-700);
      outline: none;
    }
    .login-btn, .register-btn {
      background: linear-gradient(180deg,var(--green-600),var(--green-700));
      color: white;
      border: 0;
      padding: 11px 0;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 700;
      font-size: 1.1rem;
      margin-top: 10px;
      transition: background .2s;
    }
    .login-btn:hover, .register-btn:hover {
      background: linear-gradient(180deg,var(--green-700),var(--green-900));
    }
    .switch-link {
      color: var(--green-700);
      cursor: pointer;
      text-align: center;
      margin-top: 6px;
      font-size: 1rem;
      text-decoration: underline;
      background: none;
      border: none;
      padding: 0;
    }
    .error-message {
      background: #fff1f1;
      color: #d32929;
      border: 1px solid #ffd0d0;
      border-radius: 7px;
      padding: 7px 10px;
      font-size: 1rem;
      margin-bottom: 8px;
      text-align: center;
    }
    .success-message {
      background: #e8fff3;
      color: #148d4d;
      border: 1px solid #b7ffd1;
      border-radius: 7px;
      padding: 7px 10px;
      font-size: 1rem;
      margin-bottom: 8px;
      text-align: center;
    }
    @media (max-width: 480px) {
      .login-card, .register-card { padding: 18px 5vw;}
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="white" d="M7 7h10l-1 10H8L7 7zm1-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v1H8V4zM5 8h14v2a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8z"/></svg>
      <div>
        <h2>CEA Square</h2>
        <small>Student Portal Login</small>
      </div>
    </div>
  </header>
  <div class="centered-container">
    <div id="login-form" class="login-card" style="display: flex;">
      <h2>Student Login</h2>
      <div id="login-error" class="error-message" style="display:none;"></div>
      <form autocomplete="off" onsubmit="return handleLogin(event)">
        <div class="input-group">
          <label for="login-email">Email</label>
          <input id="login-email" name="email" type="email" required autocomplete="username" placeholder="your@email.com" />
        </div>
        <div class="input-group">
          <label for="login-password">Password</label>
          <input id="login-password" name="password" type="password" required autocomplete="current-password" placeholder="Password" />
        </div>
        <button class="login-btn" type="submit">Login</button>
      </form>
      <button class="switch-link" onclick="showRegister()">Not registered? Create an account</button>
    </div>
    <div id="register-form" class="register-card" style="display:none;">
      <h2>Student Registration</h2>
      <div id="register-error" class="error-message" style="display:none;"></div>
      <div id="register-success" class="success-message" style="display:none;"></div>
      <form autocomplete="off" onsubmit="return handleRegister(event)">
        <div class="input-group">
          <label for="reg-number">Register Number</label>
          <input id="reg-number" name="regno" type="text" required placeholder="Register Number" />
        </div>
        <div class="input-group">
          <label for="reg-name">Name</label>
          <input id="reg-name" name="name" type="text" required placeholder="Name" />
        </div>
        <div class="input-group">
          <label for="reg-email">Email</label>
          <input id="reg-email" name="email" type="email" required placeholder="your@email.com" autocomplete="username" />
        </div>
        <div class="input-group">
          <label for="reg-year">Year of Student</label>
          <select id="reg-year" name="year" required>
            <option value="">Select year</option>
            <option value="I">I</option>
            <option value="II">II</option>
            <option value="III">III</option>
            <option value="IV">IV</option>
          </select>
        </div>
        <div class="input-group">
          <label for="reg-password">Password</label>
          <input id="reg-password" name="password" type="password" required placeholder="Password" autocomplete="new-password" />
        </div>
        <button class="register-btn" type="submit">Create Account</button>
      </form>
      <button class="switch-link" onclick="showLogin()">Already have an account? Login</button>
    </div>
  </div>
  <script>
    // Demo (no backend): store users in localStorage for simulation
    function getUsers(){
      return JSON.parse(localStorage.getItem('cea_square_students') || '[]');
    }
    function setUsers(users){
      localStorage.setItem('cea_square_students', JSON.stringify(users));
    }
    function showRegister(){
      document.getElementById('login-form').style.display = 'none';
      document.getElementById('register-form').style.display = 'flex';
      document.getElementById('register-error').style.display = 'none';
      document.getElementById('register-success').style.display = 'none';
    }
    function showLogin(){
      document.getElementById('register-form').style.display = 'none';
      document.getElementById('login-form').style.display = 'flex';
      document.getElementById('login-error').style.display = 'none';
    }
    function handleLogin(e){
      e.preventDefault();
      const email = document.getElementById('login-email').value.trim().toLowerCase();
      const password = document.getElementById('login-password').value;
      const users = getUsers();
      const user = users.find(u => u.email === email && u.password === password);
      if(user){
        document.getElementById('login-error').style.display = 'none';
        alert('Login successful! Welcome, ' + user.name + '.\n(Integrate with backend for real login.)');
        // Redirect or load dashboard here in real app
      }else{
        document.getElementById('login-error').innerText = "Invalid email or password.";
        document.getElementById('login-error').style.display = 'block';
      }
      return false;
    }
    function handleRegister(e){
      e.preventDefault();
      const regno = document.getElementById('reg-number').value.trim();
      const name = document.getElementById('reg-name').value.trim();
      const email = document.getElementById('reg-email').value.trim().toLowerCase();
      const year = document.getElementById('reg-year').value;
      const password = document.getElementById('reg-password').value;
      const users = getUsers();
      if(users.find(u => u.email === email)){
        document.getElementById('register-error').innerText = "Email already registered. Please login.";
        document.getElementById('register-error').style.display = 'block';
        document.getElementById('register-success').style.display = 'none';
        return false;
      }
      if(users.find(u => u.regno === regno)){
        document.getElementById('register-error').innerText = "Register number already registered.";
        document.getElementById('register-error').style.display = 'block';
        document.getElementById('register-success').style.display = 'none';
        return false;
      }
      users.push({ regno, name, email, year, password });
      setUsers(users);
      document.getElementById('register-error').style.display = 'none';
      document.getElementById('register-success').innerText = "Account created! Please login.";
      document.getElementById('register-success').style.display = 'block';
      setTimeout(showLogin, 1500);
      return false;
    }
    // Enter key on switch-link focuses first input
    document.querySelectorAll('.switch-link').forEach(link => {
      link.addEventListener('keydown', function(e){
        if(e.key==='Enter' || e.key===' '){
          e.preventDefault();
          this.click();
        }
      });
    });
  </script>
</body>
</html>
